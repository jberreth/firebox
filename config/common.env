# =============================================================================
# FIREBOX COMMON CONFIGURATION
# Shared environment variables used across all gateways and services
# =============================================================================

# System Information
FIREBOX_VERSION=1.0.0
FIREBOX_ENVIRONMENT=development
COMPOSE_PROJECT_NAME=firebox

# Host Configuration
HOST_IP=192.168.1.38
DOMAIN=localhost
TIMEZONE=America/Boise

# =============================================================================
# IGNITION COMMON SETTINGS
# =============================================================================

# Ignition Image Configuration
IGNITION_IMAGE=inductiveautomation/ignition
IGNITION_VERSION=8.1.35
IGNITION_EDITION=standard

# Common Ignition Settings
IGNITION_ADMIN_USERNAME=admin
IGNITION_ADMIN_PASSWORD=password
IGNITION_ADMIN_PASSWORD_FILE=
IGNITION_DISABLE_SETUP_WIZARD=true
IGNITION_ACCEPT_EULA=Y

# Gateway Network Security
GATEWAY_NETWORK_AUTOACCEPT_DELAY=5
GATEWAY_NETWORK_REQUIRESSL=false

# JVM Memory Settings (can be overridden per gateway)
IGNITION_MEMORY_MIN=512m
IGNITION_MEMORY_MAX=2048m
IGNITION_JVM_ARGS=-server -XX:+UseG1GC

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

# Log Levels
LOG_LEVEL=INFO
IGNITION_LOG_LEVEL=INFO
GATEWAY_LOG_LEVEL=INFO

# Log Output
LOG_FORMAT=json
LOG_TO_CONSOLE=true
LOG_TO_FILE=true

# Log Retention
LOG_MAX_SIZE=100MB
LOG_MAX_FILES=10
LOG_RETENTION_DAYS=30

# =============================================================================
# MONITORING & METRICS
# =============================================================================

# Prometheus Configuration
PROMETHEUS_ENABLED=true
PROMETHEUS_METRICS_PATH=/metrics
PROMETHEUS_SCRAPE_INTERVAL=15s

# Health Check Configuration
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_INTERVAL=60s
HEALTH_CHECK_TIMEOUT=30s
HEALTH_CHECK_RETRIES=3

# =============================================================================
# TRIAL MANAGEMENT
# =============================================================================

# Trial Reset Configuration
TRIAL_RESET_ENABLED=true
TRIAL_EMERGENCY_THRESHOLD=7
TRIAL_WARNING_THRESHOLD=14
TRIAL_AUTO_RESET_SCHEDULE=0 2 * * 0

# Selenium Configuration
SELENIUM_HEADLESS=true
SELENIUM_TIMEOUT=60
SELENIUM_IMPLICIT_WAIT=10
SELENIUM_PAGE_LOAD_TIMEOUT=30
SELENIUM_SCREENSHOTS=true

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# PostgreSQL Settings
DB_HOST=postgres
DB_PORT=5432
DB_NAME=firebox
DB_USER=firebox
DB_PASSWORD=secure_password_change_me
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20

# Redis Configuration
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=

# =============================================================================
# SECURITY SETTINGS
# =============================================================================

# SSL Configuration
SSL_ENABLED=false
SSL_CERT_DIR=/ssl/certs
SSL_KEY_DIR=/ssl/private
SSL_VERIFY=false

# Authentication (Future)
AUTH_ENABLED=false
JWT_SECRET_KEY=change_me_in_production
JWT_ACCESS_TOKEN_EXPIRES=3600
JWT_REFRESH_TOKEN_EXPIRES=2592000

# =============================================================================
# DOCKER CONFIGURATION
# =============================================================================

# Docker Network
DOCKER_NETWORK=firebox-network
DOCKER_SUBNET=172.20.0.0/16
DOCKER_GATEWAY=172.20.0.1

# Container Resource Limits
DEFAULT_MEMORY_LIMIT=2g
DEFAULT_CPU_LIMIT=1.0
DEFAULT_MEMORY_RESERVATION=512m

# Container Restart Policy
RESTART_POLICY=unless-stopped

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================

# Development Flags
DEBUG=false
FLASK_DEBUG=false
REACT_DEVELOPMENT=true

# Development Tools
HOT_RELOAD=true
LIVE_RELOAD=true
SOURCE_MAPS=true

# =============================================================================
# BACKUP CONFIGURATION
# =============================================================================

# Backup Settings
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 3 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_LOCATION=/backups

# Gateway Backup Settings
GATEWAY_BACKUP_ENABLED=true
GATEWAY_BACKUP_ON_RESTART=false
GATEWAY_BACKUP_COMPRESSION=true

# =============================================================================
# NOTIFICATION SETTINGS (Future)
# =============================================================================

# Email Notifications
EMAIL_ENABLED=false
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
SMTP_TLS=true

# Webhook Notifications
WEBHOOK_ENABLED=false
WEBHOOK_URL=
WEBHOOK_TIMEOUT=30

# =============================================================================
# PERFORMANCE TUNING
# =============================================================================

# API Rate Limiting
RATE_LIMIT_ENABLED=false
RATE_LIMIT_PER_MINUTE=100
RATE_LIMIT_PER_HOUR=1000

# Cache Configuration
CACHE_ENABLED=true
CACHE_TTL=300
CACHE_MAX_SIZE=1000

# Connection Pooling
HTTP_CONNECTION_POOL_SIZE=10
HTTP_CONNECTION_MAX_RETRIES=3
HTTP_CONNECTION_TIMEOUT=30